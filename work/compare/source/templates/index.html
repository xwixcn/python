<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<HTML>
 <HEAD>
  <TITLE> 问答测试平台 </TITLE>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" href="/static/css/zTreeStyle/zTreeStyle.css" type="text/css">
  <style>
    body {
    background-color: white;
    margin:0; padding:0;
    text-align: center;
    }
    div, p, table, th, td {
        list-style:none;
        margin:0; padding:0;
        color:#333; font-size:12px;
        font-family:dotum, Verdana, Arial, Helvetica, AppleGothic, sans-serif;
    }
    testIframe {margin-left: 10px;margin-right: 0px}
  </style>
<script type="text/javascript" src="/static/js/jquery.js"></script>
<script type="text/javascript" src="/static/js/jquery.ztree.core-3.5.js"></script>
  <SCRIPT type="text/javascript" >
 
    var zTree;
    var demoIframe;

    var setting = {
        view: {
            dblClickExpand: false,
            showLine: true,
            selectedMulti: false,
            expandSpeed: (jQuery.browser.msie && parseInt(jQuery.browser.version)<=6)?"":"fast"
        },
        callback: {
            beforeClick: function(treeId, treeNode) {
                var zTree = jQuery.fn.zTree.getZTreeObj("tree");
                if (treeNode.isParent) {
                    zTree.expandNode(treeNode);
                    return false;
                } else {
                    demoIframe.attr("src",treeNode.file);
                    return true;
                }
            }
        }
    };

    var zNodes =[
                {"name":"首页","file":"/result"},
                {"name":"tag","file":"/tag"},
                {"name":"配置","file":"/config/show"},
                {"name":"job","file":"/job"},

                
                
    ];

    jQuery(document).ready(function(){
        var t = jQuery("#tree");
        t = jQuery.fn.zTree.init(t, setting, zNodes);
        demoIframe = jQuery("#testIframe");
        demoIframe.bind("load", loadReady);
        var zTree = jQuery.fn.zTree.getZTreeObj("tree");
        zTree.selectNode(zTree.getNodeByParam("id", 101));

    });

    function loadReady() {
        var bodyH = demoIframe.contents().find("body").get(0).scrollHeight,
        htmlH = demoIframe.contents().find("html").get(0).scrollHeight,
        maxH = Math.max(bodyH, htmlH), minH = Math.min(bodyH, htmlH),
        h = demoIframe.height() >= maxH ? minH:maxH ;
        if (h < 530) h = 530;
        demoIframe.height(h);
    }


  </SCRIPT>
 </HEAD>

<BODY>
<TABLE border=0 height=600px align=left>
    <TR>
        <TD width=150px align=left valign=top style="BORDER-RIGHT: #999999 1px dashed">
            <ul id="tree" class="ztree" style="width:120px; overflow:auto;"></ul>
        </TD>
        <TD width="100%" align=left valign=top><IFRAME ID="testIframe" Name="testIframe"FRAMEBORDER=0 SCROLLING=AUTO width=100%  height=600px SRC="/result"></IFRAME></TD>
    </TR>
</TABLE>

</BODY>
</HTML>
